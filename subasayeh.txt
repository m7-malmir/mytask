Phase 1 – Core Backend (بدون وابستگی به Redis)
Status: 85% Done
✅ Done
Logger & MyFileHandler (override سرویس، timezone Asia/Tehran، ریستارت کانتینر)
ProductRepository → findById, findBySlug, getAllPaginated
ProductService → listProducts, getProduct, createProduct (slug + event)
updateProduct (invalidate کش + event)
CategoryService → getCategory, createCategory (slug + event)
updateCategory (invalidate کش + event), listCategories
Type hinting + use function CodeIgniter\Events\event;, DocBlock روی remember()
Factories (Product + Category، داده فارسی، slug یونیک)
Seeder (اتصال داینامیک محصول و دسته)
Observers Product کامل
Manual test /api/products
✗ To Do
CategoryController API CRUD
CategoryObserver → invalidate کش (فعلاً کامنت)

Phase 2 – Caching Layer (Redis)
Status: 20% Done
✅ Done
Redis service در docker-compose.yml
کانفیگ Redis در Config\Cache
✗ To Do
.env → cache.handler = redis
TTL → Products: 900s, Categories: 1800s
Group cache deletion → product_*, category_* در Listenerها
تست عملکرد Redis در Docker
Fallback به DB در Down بودن Redis
Phase 3 – Unit, Feature & Isolated Testing
Status: 10% Done

Phase 3 – Unit, Feature & Isolated Testing
Status: 10% Done
✅ Done
Manual test API محصول
✗ To Do
Isolated Unit Test برای هر ماژول/سرویس قبل از ادغام
Unit Test برای Repositoryها
Unit Test برای Serviceها (با Mocking کش)
Feature Test API (محصول + دسته)
Integration Test (رویداد + کش + DB)

Phase 4 – CI/CD با تست خودکار
Status: 0% Done
✗ To Do
پیکربندی GitHub Actions یا GitLab CI برای اجرای تست پیش از Merge/Deploy
Pipeline خودکار برای اجرا و گزارش Unit/Feature Tests
توقف خودکار استقرار در صورت Fail شدن تست‌ها

Phase 5 – SEO & Sitemap
Status: 0% Done
✗ To Do
Listener پینگ به Google/Bing
/sitemap.xml داینامیک + کش
Listener پاک‌کردن کش sitemap

Phase 6 – Real-time & Queue
Status: 0% Done
✗ To Do
WebSocket یا SSE
Redis Queue برای async jobs

Phase 7 – DevOps & Monitoring
Status: 0% Done
✗ To Do
Docker Compose Production-ready
Log rotation
Monitoring (Sentry یا ELK)


Phase 8 – CMS/Admin
Status: 0% Done
✗ To Do
Admin UI برای مدیریت محصول و دسته
فرم افزودن محصول (با فیلدهای SEO)
داشبورد و گزارش‌ها
مدیریت کاربران و نقش‌ها


Phase 9 – Frontend (Public Website)
Status: 0% Done
✗ To Do
صفحات لیست محصولات (با فیلترها و دسته‌بندی‌ها)
صفحه جزئیات محصول (SEO-friendly URL)
جست‌وجوی سریع و autocomplete
بلاگ/اخبار (در صورت نیاز به محتوای SEO)
ریسپانسیو کامل + بهینه‌سازی سرعت


///--------------------------------------------------------------


Roadmap پروژه – نسخه صفر کیلومتر
Phase 0 – آماده‌سازی میدان جنگ
بکاپ هرچی الان داریم
سورس، دیتابیس، .env (گذاشتن تو پوشه backup)
پاک‌سازی کامل محیط فعلی
حذف vendor، ایمیج‌های Docker قدیمی، Volumeهای اضافی
راه‌اندازی Environment از صفر
Dockerfile → PHP 8.2 + Composer داخل کانتینر
docker-compose → PHP-FPM + Nginx + MySQL + Redis
.env.example استاندارد برای همه محیط‌ها
⏱ تخمین: ۱ روز کاری

Phase 1 – پایه‌گذاری پروژه
ساختار فولدر استاندارد (app, config, storage, tests, public, resources)
تنظیم composer.json تمیز (حداقل پکیج‌های لازم)
اتصال به دیتابیس و Redis با تنظیمات env
⏱ تخمین: ۰.۵ روز

Phase 2 – چرخه Dev اصولی
بک‌لاگ شفاف و اولویت‌بندی‌شده
اسپرینت‌های ۱–۲ هفته، بدون تغییر وسط اسپرینت
قانون «تسک نصفه نداریم»
⏱ تخمین: هم‌زمان با اجرا — ongoing

Phase 3 – تست از روز اول
Unit Test → Repository/Serviceها
Feature Test برای API
تست ایزوله ماژول قبل از Integration
⏱ تخمین: ۲ روز کاری (ستاپ + اولین سری تست‌ها)

Phase 4 – CI/CD با تست اتومات
پیکربندی Pipeline برای اجرا شدن تست‌ها قبل از Merge
Stop اتومات Deploy اگه تست Fail شد
امکان اجرای تست‌ها لوکال و روی CI
⏱ تخمین: ۰.۵ تا ۱ روز کاری

Phase 5 – DevOps & Monitoring
ساخت ساختار لاگ ایزوله برای هر ماژول
مانیتورینگ سلامت سرویس‌ها (Heartbeat)
ارسال Alert به Slack/Email در خطاهای حیاتی
⏱ تخمین: ۱ روز کاری

Phase 6 – CMS/Admin
ماژول آپلود عکس با Resize & Compress
سقف ابعاد (مثلاً 1920px)
کیفیت بهینه (80%)
WebP خروجی
Thumbnail خودکار
Queue برای پردازش تصاویر
⏱ تخمین: ۱.۵ روز کاری

Phase 7 – SEO & Sitemap
Dynamic Sitemap + Ping خودکار به Google
URLهای SEO-friendly
کشینگ هوشمند برای صفحات
⏱ تخمین: ۱ روز کاری